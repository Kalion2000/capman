# Maintainer: William Turner <willtur.will@gmail.com>

pkgname=wine
pkgver=3.13
pkgrel=1
pkgdesc="A compatibility layer for running Windows programs"
arch=('x86_64')
url="http://www.winehq.com"
license=('LGPL')
groups=()
depends=('desktop-file-utils' 'fontconfig' 'freetype2' 'gcc-libs' 'gettext' 'glu' 'lcms2' 'lib32-fontconfig' 'lib32-freetype2' 'lib32-gcc-libs' 'lib32-gettext' 'lib32-glu' 'lib32-lcms2' 'lib32-libpcap' 'lib32-libsm' 'lib32-libxcursor' 'lib32-libxdamage' 'lib32-libxi' 'lib32-libxml2' 'lib32-libxrandr' 'libpcap' 'libsm' 'libxcursor' 'libxdamage' 'libxi' 'libxml2' 'libxrandr')
makedepends=('alsa-lib' 'autoconf' 'bison' 'desktop-file-utils' 'flex' 'fontconfig' 'fontforge' 'freetype2' 'gcc>=4.5.0-2' 'gcc-libs' 'gettext' 'giflib' 'glu' 'gnutls' 'gst-plugins-base-libs' 'lcms2' 'lib32-alsa-lib' 'lib32-fontconfig' 'lib32-freetype2' 'lib32-gcc-libs' 'lib32-gettext' 'lib32-giflib' 'lib32-glu' 'lib32-gnutls' 'lib32-gst-plugins-base-libs' 'lib32-lcms2' 'lib32-libldap' 'lib32-libpcap' 'lib32-libpng' 'lib32-libpulse' 'lib32-libsm' 'lib32-libxcomposite' 'lib32-libxcomposite' 'lib32-libxcursor' 'lib32-libxdamage' 'lib32-libxi' 'lib32-libxinerama' 'lib32-libxml2' 'lib32-libxmu' 'lib32-libxrandr' 'lib32-libxslt' 'lib32-libxxf86vm' 'lib32-mesa' 'lib32-mesa-libgl' 'lib32-mpg123' 'lib32-openal' 'lib32-opencl-icd-loader' 'lib32-v4l-utils' 'lib32-vulkan-icd-loader' 'libldap' 'libpcap' 'libpng' 'libpulse' 'libsm' 'libxcomposite' 'libxcomposite' 'libxcursor' 'libxdamage' 'libxi' 'libxinerama' 'libxml2' 'libxmu' 'libxrandr' 'libxslt' 'libxxf86vm' 'mesa' 'mesa-libgl' 'mpg123' 'ncurses' 'openal' 'opencl-headers' 'opencl-icd-loader' 'perl' 'samba' 'v4l-utils' 'vulkan-headers' 'vulkan-icd-loader')
optdepends=('alsa-lib'
            'alsa-plugins'
            'cups'
            'dosbox'
            'giflib'
            'gnutls'
            'gst-plugins-base-libs'
            'lib32-alsa-lib'
            'lib32-alsa-plugins'
            'lib32-giflib'
            'lib32-gnutls'
            'lib32-gst-plugins-base-libs'
            'lib32-libjpeg-turbo'
            'lib32-libldap'
            'lib32-libpng'
            'lib32-libpulse'
            'lib32-libxcomposite'
            'lib32-libxinerama'
            'lib32-libxslt'
            'lib32-mpg123'
            'lib32-ncurses'
            'lib32-openal'
            'lib32-opencl-icd-loader'
            'lib32-v4l-utils'
            'libjpeg-turbo'
            'libldap'
            'libpng'
            'libpulse'
            'libxcomposite'
            'libxinerama'
            'libxslt'
            'mpg123'
            'ncurses'
            'openal'
            'opencl-icd-loader'
            'samba'
            'v4l-utils')
provides=()
conflicts=()
replaces=()
source=()
sha256sums=()

build() {
  yes | crew build wine
  tar xf "wine-3.13-chromeos-$arch.tar.xz"
}

package() {
  install -dm 0755 "$pkgdir/usr"
  cp -a usr/local "$pkgdir/usr"
}
